## 一、打包插件简介
该打包插件用于打包 `maven` 工程项目,其功能如下：

1. 备份远程服务器中正在执行的应用

2. 拉取 `git` 指定分支的代码

3. 替换 `git` 代码中的配置文件

4. 执行 `maven` 指令打包项目

5. 上传打好的包到远程服务器

6. 部署上传的包到远程服务器中

7. 回滚备份的原来的应用


## 二、部署执行流程

1. 备份远程正在执行的 `war`、`jar` 包、或者配置文件等到指定目录（远程服务器目录或者本机目录）

2. 根据配置好的 `git` 远程仓库地址 `clone` 指定分支的代码到本地目录；

3. 替换应用配置文件

    3.1  本地配置文件替换到指定应用目录中。
    
    3.2  远程 `linux` 服务器配置文件下载下来替换到指定应用目录中 
    
4. 执行 maven 配置的打包指令

5. 上传打好的包（`war`、`jar`）到配置的远程的全部服务器；

6. 根据配置的命令，`ssh` 执行命令给远程服务器，使其做相应的业务

7. 处理部署完成之后的相应事项。

## 三、回滚应用执行流程

1. 找到部署时的备份的应用包

2. 如果为远程服务器备份，则直接远程执行 `linux` 指令，完成备份还原操作；如果为本地备份，则需先上传应用包，再执行还原指令

3. 处理还原完成后的相应事项。